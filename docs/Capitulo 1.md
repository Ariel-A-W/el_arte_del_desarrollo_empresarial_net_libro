# **El Arte del Desarrollo Empresarial con Microsoft .NET Core**

# Capítulo 1

## Introducción

En el actual mundo moderno en el que vivimos, los entornos empresariales se están convirtiendo cada vez más en altamente competitivos. La moderna tecnología está jugando un rol fundamental en este gran proceso de transformación que estamos experimentando. Este proceso de transformación impacta muy significativamente sobre diversas áreas tales como los entornos industriales, comerciales, medicinales, sociales, etc. El objetivo final es lograr un modelo más expandido de automatización y de escala, a los efectos de que puedan ofrecer mejores y excelente soluciones prácticas.

Las diversas soluciones que nos ofrece Microsoft .NET Core, hacen que todos estos enfoques puedan instrumentarse conveniente y adecuadamente. El enfoque que propone Microsoft .NET Core es la de disponer de una arquitectura modular, basándose sobre una multiplataforma y garantizando un rendimiento superior, en comparación a otras tecnologías más antiguas y de terceros. Todo este compendio de tecnologías propuestas por Microsoft .NET Core permiten la creación de aplicaciones y servicios más robustas y escalables. A todo ello sumado la AI (Artificial Intelligense) o inteligencia artificial, podremos lograr importantes avances resolutivos a muchos de los desafíos modernos.

Además de todo este despliegue y sus detalles de estas tecnologías, también resulta necesario realizar un debido y acertado enfoque en materia de desarrollo, solución e implementación de todas estas herramientas disponibles de forma eficaz en el mundo industrial y empresarial. 
El objetivo de este libro es, no solamente ahondar en temas de tecnologías y sus potenciales aplicaciones, sino también, hacer énfasis eficazmente en el contexto general del mundo empresarial e industrial, de modo tal de encontrar soluciones prácticas y adecuadas para todos estos campos de acción.

Este libro proporciona una guía detallada para incurrir en diversos asuntos técnicos que nos permiten describir algunos escenarios resolutivos posibles para potenciales casos reales de nuestra vida cotidiana. Este libro les permite a los profesionales poder instrumentar de forma apropiada todas aquellas habilidades necesarias, basándose sobre un marco de soluciones avanzadas con el objeto de construir soluciones robustas, mejoras, reduciendo los costos y el tiempo en el desarrollo, prueba y los despliegues de los sistemas a producción.

Además de todos estos puntos clave, también se incluye todo un conjunto de estrategias específicas y particulares para la obtención de un enfoque más flexible, amigable, práctico, con el objeto de enfrentar grandes desafíos reales en futuros proyectos empresariales.

## Arquitecturas Avanzadas y Patrones de Diseño

Las arquitecturas modernas nos permiten diseñar sistemas más robustos, claros, ordenados y escalables. Las arquitecturas plantean como base el uso de patrones estandarizados. Gracias a los patrones, tanto el diseño y como la construcción del software, bajo todos sus procesos, resultan ser más sólidos y seguros. En resumen, todos ellos, resultan esenciales precisamente sobre ambientes empresariales e industriales.

Una arquitectura puede basarse en varios prototipos, con el objeto de resolver diversos problemas generalizados de escala, mantenimiento, rendimiento, etc. Podemos contar con las arquitecturas tales como HA (Hexagonal Architecture) o Arquitectura Hexagonal, CA (*Clean Architecture*) o Arquitectura Limpia y con DDD *(Domain-Driven Design*) o Diseño Basado en Dominios.

Por otro lado, también se propone el uso de una arquitectura de plataforma para cubrir los servicios en los IIS (Internet Information Services) o en servidores más robustos, incluyendo las nubes como Microsoft Azure Cloud, de modo tal de poder disponer de un modelo basado en microservicios y sumado a este, el patrón CQRS (*Command Query Responsability Segregation*), que nos ofrecen un modelo funcional y operativo muy robusto. Además del patrón CQRS, también contamos con el patrón Event Sourcing. Ambos patrones permiten crear aplicaciones altamente escalables y resilientes.

En resumen, todos ellos contribuyen a modelar el software más cercano al negocio, permitiéndole de esta forma diversos tipos de cambios muy rápidos al sistema, sin que todo ello comprometa la estabilidad del sistema en general.

## Los Servicios API

Actualmente los servicios que proporcionan las API moderna son muy amplios. Como tal, el desempeño de una API debe cumplir ciertos estándares operativos y, a su vez, tiene que ofrecer un servicio robusto y eficaz. Por lo tanto, el desarrollo de una API resulta indispensable añadir todos estos puntos clave si se pretende obtener alta performance y seguridad.

Las API RESTful ofrecen un conjunto de potencialidades muy convenientes y útiles para múltiples propósitos. Es por esta razón que los servicios que proporcione una API tienen que hacer énfasis en el uso de sistemas más robustos y flexibles a la vez. Las API RESTful son eficaces pero a veces podrían resultar ser poco flexibles. Ello mismo ocurre en el momento de requerir de sus servicios para diversas aplicaciones, donde tan solo se requiere la parcialidad de los datos y no todos ellos.

En efecto, es aquí cuando entra en juego GraphQL. Gracias a la gran flexibilidad que posee GraphQL, nosotros podremos asegurarnos que nuestras API se conviertan en altamente flexibles a la hora de ser consumidas por las aplicaciones.

Además de las API RESTful también contamos con otro tipo de tecnologías, tales como gRPC. Si bien, este servicio hace uso de un protocolo particular y es algo anterior a las API, no deja de ser un prototipo de servicio muy interesante. De hecho, los primeros servicios ofrecidos a terceros, conocidos como “contratos”, se desarrollaron en gRPC. La gran ventaja de gRPC es que nos ofrece un sistema muy flexible, sencillo y muy seguro. Además posee un servicio que resulta ser bastante liviano, lo cual lo convierte en favorito para diversos servicios donde se requiere de mayor respuesta de velocidad y carga. Por sobre los microservicios, gRPC se comporta de forma muy satisfactoria y es por ello que muchos optan por su uso.

Por último, ante el uso de una arquitectura basada en microservicios, el uso de los llamados API Gateway resultan cruciales. API Gateway se trata de un puerto de enlace y cuya finalidad es la de gestionar todas las solicitudes y respuestas dentro del contexto de la solución, con el objeto de resolver las rutas que apuntan a cada uno de los microservicios internos de forma apropiada. Uno de los productos más utilizados en el mercado es Ocelot. Sin embargo, también existen otros productos similares a este.

En este libro aprenderás cómo se diseñan e implementan todas estas funcionalidades. Conocerás el uso de la gestión de rutas, políticas de seguridad y, lo más importante de todo, cómo se configura y usa el balanceo de carga de los datos. También el uso de limitadores para evitar los ataques DDoS (*Disdtributed Denial on Service*) o ataques de denegación de servicios distribuidos.

## Gestión de Fuentes de Datos

Uno de los recursos más importantes que poseen tanto las empresas como las instituciones en general es sin duda alguna sus datos. Garantizar que la información se encuentre de forma segura y disponible es fundamental. Por otro lado, disponer de los datos cuando sea necesario de forma inmediata y segura es un requisito indispensable.

Para poder obtener la mejor performance respecto a la provisión, persistencia y redundancia de los datos se requiere de sistemas seguros y robustos. En efecto, el uso de los motores ORM (*Object-Relational Mapping*) nos permiten garantizar todos esos procesos. Nativamente, la plataforma de Microsoft .NET Core tiene una solución ORM llamada Entity Framework Core. Gracias a esta valiosa herramienta, las aplicaciones y servicios que hacen uso de su disponibilidad permiten la gestión de fuentes de datos de forma fiable y robusta.

Otra característica destacable de Entity Framework Core es la de ofrecer la posibilidad de trabajar con distintos tipos de proveedores de datos. Esta característica resulta interesante porque nos permite adaptar muy fácilmente nuestros sistemas en caso de tener que migrar de entre gestores de base de datos. Obviamente, este proceso es acompañado de su proveedor de datos apropiado.

Por otra parte, la tecnología de Microsoft .NET Core es la de ofrecernos una herramienta llamada Dapper que nos permite gestionar datos como una suerte de micro motor ORM. Tal cual sucede con Entity Framework, Dapper también permite la interacción con las bases o fuentes de datos.

Si bien, existen bases de datos de tipo relacionales, tal cual he mencionado recientemente que pueden ser gestionadas desde Dapper o Entity Framework Core, también existen otros tipos de orígenes de datos que no son relacionales. Las bases o fuentes de datos de tipo “*no relacionales*” son gestionadas en el entorno de Microsoft .NET Core aunque se dispone del uso de otros tipos de módulos o librerías de terceros para su gestión. Por ejemplo, el tipo de base de datos como NoSQL, MongoDB o CosmoDB, este último de la firma de Microsoft, es gestionada a través de desarrollos de terceros. Un ejemplo de ello es Redis.

Por lo tanto, garantizar una verdadera redundancia de los datos implica el uso combinado de tipos de bases de datos relacionales y no relacionales. Esto lo analizaremos en detalles en posteriores capítulos de este libro. Por ahora, en esta breve introducción, solo nos quedaremos con los conceptos fundamentales de que ambos prototipos de bases de datos y sus sistemas de gestión, pueden ser aplicados muy convenientemente para obtener resultados extraordinarios.

## Despliegue y Mantenimiento de Microservicios

Una característica crucial de un sistema es que se pueda desplegar fácilmente y, por otro lado, se pueda mantener libre de complejidades adicionales. En efecto, el despliegue eficiente y el mantenimiento de microservicios es un tema central.

Actualmente la tecnología nos permite muy fácilmente trabajar con los despliegues en los ambientes de producción. La llamada “*Filosofía DevOps o también, DevSecOps*” permite cumplir tal propósito de forma eficaz, ágil, rápida y con muy bajos costos operativos. La terminología DevOps (*Development/Operations*) hace referencia a “*Desarrollo y Operaciones*” y, para el caso de DevSecOps, hace referencia a “*Desarrollo, Seguridad y Operaciones*”.

En el pasado los despliegues se debían hacer totalmente a mano. Estos despliegues consistían primero en compilar la solución o proyecto. Luego, desplegar todos los archivos dentro del servidor contenedor. Sobre la marcha de estas tareas triviales, también se tenía que configurar toda clase de parámetros determinados, de modo de ajustar la aplicación en el ambiente de producción correctamente.

Todas estas tareas consumaban ciertas dificultades. Además, podrían ser riesgosas porque un despliegue mal hecho podría crear severos problemas a los sistemas en general. Todo esto también imprimía cierta pérdida de tiempo, la programación para la detención del sitio Web, etc.

Todas estas dificultades hacían que los procesos no fuesen demasiados prácticos y seguros. Por ejemplo, si un cliente estaba visitando la página de la empresa comprando algunos productos en la tienda virtual o quizá, pagando algún tipo de servicio que consume de la empresa y, en ese momento se planificaba un despliegue, el mero proceso de detener al servidor Web, era más que suficiente para que se produzcan pérdidas e inconsistencia de datos, lo cual eso se traduciría directamente en perjuicio del cliente o de la empresa proveedora.

Gracias a la moderna tecnología todas estas tareas dejan de tener efecto. Todas ellas pasan a ser reemplazadas y gestionadas por soluciones más prácticas y eficaces. Por ejemplo, el uso de Docker o Kubernetes para su gestión.

Tanto Docker como Kubernetes se tratan de máquinas virtuales que gestionan contenedores. Los contenedores nos permiten desplegar nuestras aplicaciones sobre una plataforma, basadas como por ejemplo, en un tipo de versionado de Framework en particular, un sistema operativo determinado, etc. Los procesos que se llevan a cabo son instalados sobre los contenedores, ajustados por el orquestador de procesos de los gestores de Docker o Kubernetes, según el tipo de producto de contenedor que se esté utilizando. Luego, el proceso de despliegue hará diversos tipos de tareas internas, como por ejemplo, compilar la aplicación, someter el producto a diversos tipos de pruebas programadas dentro del contexto del pipeline. Finalmente, se realizará el despliegue y configuración automática de la aplicación o el producto de software en el servidor Web operativo.

Una de las herramientas utilizadas dentro de un proceso de pipeline es OpenTelemetry. Esta herramienta sirve para poder hacer seguimientos y monitoreo de cada una de las tareas llevadas a cabo por el orquestador de procesos. De forma visual podremos ir siguiendo cada uno de los pasos del orquestador. Ello significa que si durante todo el gran proceso se produce un error, más tarde podremos observarlo en pantalla. Esto es muy importante porque podríamos detener todas las tareas llevadas a cabo hasta ese momento. Luego, el orquestador hará un rollback para deshacer todos los cambios que se han hecho hasta el momento. Este proceso de deshacer la tarea evita que se produzcan colapsos, errores e inconsistencia de los datos. 
Por último y no menos importante, el uso de Polly tiene como fundamental ventaja la de crear un marco operacional mucho más fiable y eficaz, ofreciendo un alto grado de resiliencia. Los patrones de resiliencia como circuit, breakers y retries resultan importante para el manejo y ajuste apropiado de las orquestaciones en los contenedores. Luego, todos ellos nos permitirán muy fácilmente seguir los procesos de monitoreos. Estos serán primordiales para los posteriores procesos de depuración en el ambiente de producción. El objetivo es el potencial de búsqueda de problemas o simplemente en la observación de su comportamiento.

## Procesos para la Seguridad Operacional y Funcional

Cuando se menciona la terminología de “*seguridad*”, resulta importante primero hacer la pregunta; ¿a qué tipo de seguridad nos referimos? No es lo mismo la seguridad operativa de un sistema que la seguridad funcional y ni mucho menos, la seguridad para el sistema, en caso de un mal manejo de parte de un humano o un robot. Por ejemplo, tú puedes tener un programa muy seguro pero si su operador es torpe o hace un manejo intencionalmente malicioso de su aplicación, allí también podríamos considerar un caso de problema de inseguridad. Por lo tanto y en resumen, la seguridad no puede solamente ceñirse a los procesos mecánicos de nuestra aplicación. Todo lo contrario, va más allá de todo ello.

En lo que concierne la seguridad, analizándolo desde el punto de vista de los sistemas, aplicar una normalización para garantizar la seguridad funcional de un sistema es crucial. Las empresas pierden millones de dólares cuando son atacadas por la ciberdelincuencia.

Por lo tanto, la seguridad para las empresas de sus sistemas no es un caso menor. Para ello actualmente contamos con muchos modelos y sistemas que nos ayuden a mitigar los problemas de seguridad en general. El uso de mecanismos de seguridad para evitar que se robe o altere información es clave para evitar males mayores.

En este libro haremos un estudio pormenorizado de lo que son los procesos de Autorización y Autenticación, cómo utilizarlos eficaz y eficientemente en nuestras aplicaciones o soluciones de software. También el uso de productos de terceros como lo es JWT (*JSON Web Token*), las soluciones que propone OAuth2 y también, OpenID Connect. Todos estos procesos de seguridad estarían planificados para ser utilizados en toda clase de soluciones o aplicaciones. En este libro estudiaremos varios casos que describen cómo se los utiliza, configura e implementa cada uno de ellos.

## Procesos de Pruebas, Optimización y CI/CD

Para poder asegurarnos que nuestro producto de aplicación o de servicio de software funcione adecuadamente se requiere de un proceso de pruebas. Cada empresa o institución suele tener un departamento dedicado a los procesos de pruebas y que generalmente se lo conoce como QA (*Quality Assurance*) o Pruebas de Calidad.

Detrás de un departamento QA se suelen trazar toda clase de planificaciones para poder implementar un método eficiente para las pruebas. Sin embargo, todas estas prácticas se pueden reducir prácticamente a tres de ellas; Unit Test o “*Pruebas Unitarias*”, Functional Test o “*Pruebas Funcionales*” e Integrated Test o “*Pruebas Integrales*”.

Adicionalmente a este tipo de pruebas también contamos con otro tipo de pruebas más profundas como lo son las llamadas Stress Test o “*Pruebas de Estrés*”. Este tipo de pruebas suelen ser muy intensivas. Dentro de este proceso también se suele incluir las pruebas de carga. En resumen, la idea es que el producto pueda resistir y funcionar bajo cualquier tipo de escenario problemático. Básicamente, es la medición bajo las peores condiciones.

Microsoft .NET Core nos ofrece una serie de herramientas muy interesantes que nos ayudan a cubrir muchos de estos procesos muy eficazmente. También existen otras herramientas creadas por terceras partes que se pueden utilizar muy convenientemente en nuestros proyectos. Por ejemplo, contamos con herramientas tales como XUnit, MSTest y Moq, por citar algunos ejemplos.

Los procesos que se orquestan durante los despliegues automatizados hacen uso de todas estas baterías de pruebas. Los procesos CI/CD (*Continuos Integration/Continuous Deployment*) o en español “*Integración Continua/Despliegue Continuo*”, permiten que esta orquestación se puedan realizar muy convenientemente. Además, como estas tareas instrumentan otros tipos de métricas, en todo su conjunto, las operaciones generales pueden otorgar un proceso de confiabilidad muy elevado. Todo este tipo de procesos se pueden orquestar desde repositorios, tales como GitHub o GitLab hasta en los procesos que se encuentran disponibles en las nubes de Microsoft Azure. La integración de ambos procesos es desarrollada y planificada a través de la estrategia que ya he mencionado en otro apartado de este capítulo bajo el nombre de DevOps (*Development/Operations*) o “*Desarrollo y Operaciones*”.

## Inteligencia Artificial Aplicada al Ámbito del Desarrollo de Software

Uno de los grandes avances modernos es sin duda alguna la AI (*Artificial Intelligense*) o “*Inteligencia Artificial*”. Actualmente existen muchos sistemas basados en inteligencia artificial como por ejemplo ChatGPT, Copilot, Gemini, etc. Por ejemplo, el entorno de desarrollo de Microsoft Visual Studio 2022 proporciona la integración de la herramienta Copilot para el uso asistido mediante la inteligencia artificial. Esta herramienta resulta indispensable dado que otorga capacidades extraordinarias para el trabajo y desarrollo de los profesionales.

Por otro lado, la plataforma propia de Microsoft .NET Core nos ofrece una serie de librerías muy interesantes para desarrollar aplicaciones basadas en inteligencia artificial. El enfoque para Machine Learning puede llevarse a cabo mediante el uso de la librería ML.NET. Gracias a esta poderosa librería podremos construir aplicaciones que pueden aprovechar al máximo muchos de los tipos de algoritmos utilizados para la inteligencia artificial en nuestros propios proyectos. Por ejemplo, los algoritmos de Machine Learning tales como la regresión, clasificación y clustering podrían ser muy bien aprovechados en los diversos tipos de servicios y aplicaciones generales de nuestros proyectos.

Un buen ejemplo del uso de inteligencia artificial disponible es Azure Cognitive Services que es específicamente utilizado para el reconocimiento facial, el procesamiento de texto y el análisis de voz.

Por último, con las diversas herramientas disponibles que nos ofrece la inteligencia artificial, podremos construir poderosos chatbots empresariales mediante la asistencia del sistema LUIS de Azure. En breve, las posibilidades que nos otorga este tipo de herramientas son prácticamente ilimitadas. 
Desafíos para las Soluciones Empresariales Reales

Quizá uno de los retos más importantes es la de poder reunir todos los recursos necesarios y apropiados para la resolución de los diversos problemas complejos que nos topamos en lo cotidiano. Las empresas e instituciones se encuentran bajo un escenario de permanente de desafíos, con el objeto de resolver diversos tipos de problemas y también, la forma de seguir creciendo. El desarrollo del software de cara al acompañamiento y resolución de problemas empresariales también asume sus propios retos.

En este libro he de plasmar varios ejemplos de la vida real. El objetivo fundamental es el de poder comprender y profundizar mejor cómo aprovechar todos los recursos disponibles aplicados sobre un enfoque resolutivo para todo tipo de problemas que presenta el mundo industrial y empresarial.

Como capítulo final para este libro voy a dar un ejemplo aplicativo al mundo empresarial real. Allí podremos explorar muchos de los desafíos que nos plantean el mundo cotidiano y la forma en cómo resolver sus diversos problemas planteados. Para ello el ejemplo se basará principalmente de un proceso arquitectónico que nos ayude a cubrir todas las necesidades planteadas por el mundo empresarial.

Todo este conjunto de procesos combinará todos los conocimientos adquiridos, desde la arquitectura de microservicios, pasando por la integración de la inteligencia artificial, hasta el despliegue y monitoreo en la nube. Este proyecto final te permitirá aplicar todos los conceptos en un escenario real y prepararte para implementar soluciones robustas y escalables en tus futuros proyectos.

------------
El Capítulo 1 lo he regalado para tí. Muchas gracias por leer y espero que haya gustado. 😊

Si deseas comprar el libro o deseas donar aquí dejo los enlaces:

❤ [Donar PayPal](https://www.paypal.com/donate/?hosted_button_id=XVFHQVKGHPBBC "Donar PayPal")


🛒📘 [Comprar Libro](https://www.lulu.com/shop/ariel-alejandro-wagner/el-arte-del-desarrollo-empresarial-con-net-core/ebook/product-e75nr9j.html?page=1&fbclid=IwY2xjawH_hZRleHRuA2FlbQIxMAABHdKsTKXqd0BOPzYxhAfKK02qUfqmYgS2QFngievJcCq1piDEdV40Kw3TDQ_aem_uTgcvHLbump1_ljh9ZxLsg&pageSize=4&source=user_about----------------------10ff0a47ac49---------------------- "Comprar Libro")
